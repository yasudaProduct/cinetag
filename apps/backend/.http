# @host = http://localhost:8080
@api_prefix = {{api}}{{version}}

# @name login
POST {{host}}/api/v1/auth/login
Content-Type: application/json

{
    "email": "test@example.com",
    "password": "test"
}

@authToken = {{login.response.body.stsTokenManager.accessToken}}

### 公開タグ一覧取得
GET {{host}}{{api_prefix}}/tags

### 公開タグ一覧取得（クエリパラメータ）
GET {{host}}{{api_prefix}}/tags?q=test&sort=popular&page=1&page_size=10

### タグ作成
POST {{host}}{{api_prefix}}/tags
Content-Type: application/json
Authorization: Bearer test-token

{
    "user_id": "user-uuid-1",
    "title": "test",
    "description": "test",
    "cover_image_url": "test",
    "is_public": true
}

@tmdb_base_url = https://api.themoviedb.org/3
@tmdb_api_key = your_tmdb_api_key

### TMDB: 映画詳細取得（/movie/{movie_id}）
GET {{tmdb_base_url}}/movie/550?language=ja-JP
Authorization: Bearer {{tmdb_api_key}}

### TMDB: 映画検索（/search/movie）
GET {{tmdb_base_url}}/search/movie?api_key={{tmdb_api_key}}&language=ja-JP&query=spirited%20away&page=1&include_adult=false

### TMDB: 映画詳細取得（フォールバック用 /movie/{movie_id}, language=en-US）
GET {{tmdb_base_url}}/movie/550?api_key={{tmdb_api_key}}&language=en-US
